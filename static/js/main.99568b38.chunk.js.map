{"version":3,"sources":["actions/app-actions.js","components/carousel/carousel.js","assets/location-icon.js","components/tile/tile.js","components/app/App.js","reducers/app-reducer.js","index.js"],"names":["getData","url","a","fetch","method","response","json","Carousel","slides","useState","slidePosition","setSlidePosition","className","style","transform","slideMargin","map","slide","key","length","onClick","LocationIcon","xmlns","viewBox","width","height","fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","cx","cy","r","Tile","title","img","location","backgroundImage","App","dispatch","useDispatch","useEffect","type","results","searchText","updateSearchText","useSelector","state","appReducer","popular","featured","placeholder","onChange","event","target","value","popularItems","filter","item","toLowerCase","includes","renderPopular","initialState","reducer","combineReducers","action","data","store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.99568b38.chunk.js","sourcesContent":["export const POPULAR_DETAILS_REQUESTED = 'POPULAR_DETAILS_REQUESTED';\nexport const POPULAR_DETAILS_RETRIEVED = 'POPULAR_DETAILS_RETRIEVED';\nexport const FEATURED_DETAILS_REQUESTED = 'FEATURED_DETAILS_REQUESTED';\nexport const FEATURED_DETAILS_RETRIEVED = 'FEATURED_DETAILS_RETRIEVED';\nexport const FETCH_ERROR = 'FETCH_ERROR';\n\nconst getData = async url => {\n  try {\n    const response = await fetch(url, {\n      method: 'GET'\n    });\n    return await response.json();\n  } catch (error) {\n    return null;\n  }\n}\n\nexport const fetchPopular = () => async (dispatch) => {\n  dispatch({\n    type: POPULAR_DETAILS_REQUESTED\n  });\n  const results = await getData('http://demo3136867.mockable.io/carousel');\n  if (results) {\n    dispatch({\n      type: POPULAR_DETAILS_RETRIEVED,\n      results\n    });\n  } else {\n    dispatch({\n      type: FETCH_ERROR,\n      results\n    });\n  }\n};\n\nexport const fetchFeatured = () => async (dispatch) => {\n  dispatch({\n    type: FEATURED_DETAILS_REQUESTED\n  });\n  const results = await getData('http://demo3136867.mockable.io/featured');\n  if (results) {\n    dispatch({\n      type: FEATURED_DETAILS_RETRIEVED,\n      results\n    });\n  } else {\n    dispatch({\n      type: FETCH_ERROR,\n      results\n    });\n  }\n};","import React, { useState } from 'react';\nimport './carousel.scss';\n\nconst Carousel = ({ slides = [] }) => {\n  const [slidePosition, setSlidePosition] = useState(0);\n  const slideWidth = 300;\n  const slideMargin = 5;\n\n  const updateSlidePosition = () => {\n    if (slidePosition === slides.length - 2) {\n      setSlidePosition(0);\n      return;\n    }\n    setSlidePosition(slidePosition + 1);\n  };\n\n  return (\n    <div className=\"carousel-container\">\n      <div className=\"carousel-frame\">\n        <div\n          className=\"carousel-slider\"\n          style={{\n            transform: `translateX(${ (-slidePosition * slideWidth) - (slidePosition > 0 ? (slideMargin * 2 * slidePosition) : 0) }px)`\n          }}\n        >\n        {\n          slides.map(slide => <div key={slide.key} className=\"carousel-slide\">{slide}</div>)\n        }\n        </div>\n      </div>\n      { slides.length > 2 &&\n        <div className=\"carousel-control\"><span className=\"chevron\" onClick={updateSlidePosition} /></div>\n      }\n    </div>\n  )\n};\n\nexport default Carousel;","import React from 'react';\n\nconst LocationIcon = () => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15 32\" width=\"15\" height=\"20\" fill=\"none\" stroke=\"currentcolor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\">\n    <g transform=\"translate(-10, 0)\">\n      <path d=\"M24 15 C21 22 16 30 16 30 16 30 11 22 8 15 5 8 10 2 16 2 22 2 27 8 24 15 Z\" />\n      <circle cx=\"16\" cy=\"11\" r=\"4\" />\n    </g>\n  </svg>\n);\n\nexport default LocationIcon;","import React from 'react';\nimport LocationIcon from '../../assets/location-icon';\nimport './tile.scss';\n\nconst Tile = ({ title, img, location }) => (\n  <div className=\"tile\">\n    <div className=\"image\" style={{backgroundImage: `url(${img})`}} />\n    <div className=\"tile-details\">\n      <div className=\"title\"><strong>{title}</strong></div>\n      <div className=\"location\"><LocationIcon /><span>{location}</span></div>\n    </div>\n  </div>\n);\n\nexport default Tile;","import React, { useEffect, useState } from 'react';\nimport { fetchPopular, fetchFeatured } from '../../actions/app-actions';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Carousel from '../carousel/carousel';\nimport Tile from '../tile/tile';\nimport './app.scss';\n\nconst App = () => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchPopular());\n    dispatch(fetchFeatured())\n  }, [dispatch]);\n\n  const [searchText, updateSearchText] = useState('');\n\n  const { popular, featured } = useSelector(state => state.appReducer);\n\n  const renderPopular = () => {\n    const filteredItems = popular.filter(item => item.title.toLowerCase().includes(searchText.toLowerCase()));\n    const popularItems = filteredItems.map(item => <Tile {...item} key={item.title}/>);\n    return (!popularItems.length ? 'No results' : <Carousel slides={popularItems} />);\n  };\n\n  const handleSearch = event => {\n    updateSearchText(event.target.value);\n  };\n\n  return (\n    <div className=\"app-container\">\n      <input\n        type=\"text\"\n        placeholder=\"Search...\"\n        className=\"search\"\n        onChange={handleSearch}\n      />\n      <div className=\"app-content\">\n        <section>\n          <h3>Popular around you</h3>\n          {\n            renderPopular()\n          }\n        </section>\n        <section>\n          <h3>Featured</h3>\n          <div className=\"featured\">\n          {\n            featured.map(item => <Tile {...item} key={item.title} />)\n          }\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import {\n  POPULAR_DETAILS_RETRIEVED,\n  FEATURED_DETAILS_RETRIEVED\n} from \"../actions/app-actions\";\n\nconst initialState = {\n  popular: [],\n  featured: []\n}\n\nexport default (state = initialState, action) => {\n  switch(action.type) {\n    case POPULAR_DETAILS_RETRIEVED: {\n      return {\n        ...state,\n        popular: action.results ? action.results.data : []\n      }\n    }\n    case FEATURED_DETAILS_RETRIEVED: {\n      return {\n        ...state,\n        featured: action.results ? action.results.data : []\n      }\n    }\n    default: return state;\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport thunk from 'redux-thunk';\nimport { createStore, combineReducers, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport App from './components/app/App';\nimport appReducer from './reducers/app-reducer';\n\nconst reducer = combineReducers({\n  appReducer\n});\n\nconst store = createStore(reducer, applyMiddleware(thunk))\n\nReactDOM.render(<Provider store={store}><App /></Provider>, document.getElementById('root'));\n"],"sourceRoot":""}